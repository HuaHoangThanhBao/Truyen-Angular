<div class="body__container">
  <div class="body__cover">
    <div class="body__box">
      <div class="title-header">
        <h2>Truyện đề cử</h2>
      </div>

      <!--Carousel-->
        <div class="caro__body">
          <div *ngIf="carouselJson" class="caro__body--nav nav-left">
            <div class="ion-chevron-left carousel-arrow-icon-left"></div>
          </div>

          <app-seleton-loader *ngIf="!carouselJson" Cheight="100%" Cwidth="100%"></app-seleton-loader>

          <div *ngIf="carouselJson" class="caro__body--slide">
            <div class="caro__body--item" *ngFor="let ca of carouselJson; let l = last">
              <div class="caro__item--wrapper">
                <a href="story-detail/{{ ca.truyenID }}">
                  <img loading="lazy" data-src="https://drive.google.com/uc?export=view&id={{ ca.hinhAnh }}">
                </a>
                <div class="caro__item--caption">
                  <a href="story-detail/{{ ca.truyenID }}">
                    <p class="truncate">{{ ca.tenTruyen }}</p>
                  </a>
                  <div class="caro__item--href">
                    <a href="story-reading/{{ ca.truyenID }}/{{ ca.chuongs.slice(-1)[0].chuongID }}"
                    
                      (click)="addToHistory(ca?.truyenID, ca?.tenTruyen, ca.chuongs.slice(-1)[0].chuongID, ca.chuongs.slice(-1)[0].tenChuong, ca?.hinhAnh)" 
                    >
                      {{ ca.chuongs.slice(-1)[0].tenChuong }}
                    </a>
                    <a>
                      <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512"
                        style="enable-background:new 0 0 512 512;" xml:space="preserve">
                        <g>
                          <g>
                            <path
                              d="M256,0C114.845,0,0,114.839,0,256s114.845,256,256,256c141.161,0,256-114.839,256-256S397.155,0,256,0z M256,474.628 C135.45,474.628,37.372,376.55,37.372,256S135.45,37.372,256,37.372s218.628,98.077,218.628,218.622 C474.628,376.55,376.55,474.628,256,474.628z" />
                          </g>
                        </g>
                        <g>
                          <g>
                            <path
                              d="M343.202,256h-80.973V143.883c0-10.321-8.365-18.686-18.686-18.686s-18.686,8.365-18.686,18.686v130.803 c0,10.321,8.365,18.686,18.686,18.686h99.659c10.321,0,18.686-8.365,18.686-18.686S353.523,256,343.202,256z" />
                          </g>
                        </g>
                      </svg>
                      {{ ca.chuongs.slice(-1)[0].thoiGianCapNhat | date: 'dd/MM/yyyy' }}
                    </a>
                  </div>
                </div>
              </div>
              {{l ? callCarousel(): null}}
            </div>
          </div>

          <div *ngIf="carouselJson" class="caro__body--nav nav-right">
            <div class="ion-chevron-right carousel-arrow-icon-right"></div>
          </div>
        </div>
        <!--End Carousel-->

    </div>
  </div>
</div>