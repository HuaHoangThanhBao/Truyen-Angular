<router-outlet></router-outlet>
<!--Rank List-->
<div class="body__box">
  <div class="title-header">
    <h2>Top phổ biến</h2>
  </div>
  <div class="story__ranking">
    <div class="story__ranking-panel">
      <ul class="rank-list">
        <li class="rank-item" *ngFor="let data of (truyenRanks ? truyenRanks : [].constructor(5)); let i = index">
          <div class="rank-b">
            <p>{{ "0" + (i + 1) }}</p>
          </div>
          <div class="rank-b">
            <app-seleton-loader *ngIf="!truyenRanks" Cheight="45"></app-seleton-loader>
            <a *ngIf="truyenRanks" class="rank-link" routerLink="/details/story-detail/{{ data?.truyenID }}">
              <img loading="lazy" data-src="https://drive.google.com/uc?export=view&id={{ data?.hinhAnh }}"  alt="{{ data?.tenTruyen }}">
            </a>
          </div>
          <div class="rank-b">
            <app-seleton-loader Cheight="20" *ngIf="!truyenRanks"></app-seleton-loader>
            <ngContainer *ngIf="truyenRanks">
              <div *ngIf="truyenRanks" class="title-overflow">
                <div class="title-overflow-content">
                  <a class="rank-link" routerLink="/details/story-detail/{{ data?.truyenID }}"><b>{{
                    data?.tenTruyen
                      }}</b></a>
                </div>
              </div>
            </ngContainer>

            <app-seleton-loader Cheight="20" *ngIf="!truyenRanks"></app-seleton-loader>
            <ngContainer *ngIf="truyenRanks">
              <div class="rank-info" *ngFor="let chuong of data?.chuongs.slice(-1).reverse()">
                <a class="rank-link" 
                
                (click)="this.historyManagement.addToHistory(data?.truyenID, data?.tenTruyen,
                chuong.chuongID, chuong.tenChuong, data?.hinhAnh)" 
              
                routerLink="/details/story-reading/{{ data?.truyenID }}/{{ chuong.chuongID }}">
                  {{ chuong.tenChuong }}
                </a>
                <span>{{ chuong.thoiGianCapNhat | date: 'dd/MM/yyyy'}}</span>
              </div>
            </ngContainer>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<!--End Rank List-->